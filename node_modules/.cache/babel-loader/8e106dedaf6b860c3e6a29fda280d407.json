{"ast":null,"code":"import _classCallCheck from\"D:\\\\WebDev-coursera\\\\open\\\\React\\\\confusion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\WebDev-coursera\\\\open\\\\React\\\\confusion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\WebDev-coursera\\\\open\\\\React\\\\confusion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\WebDev-coursera\\\\open\\\\React\\\\confusion\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Menu from'./MenuComponent';import DishDetail from'./DishDetailsComponent';import Header from'./HeaderComponent';import Footer from'./FooterComponent';import Home from'./HomeComponent';import Contact from'./ContactComponent';import About from'./AboutComponent';import{Switch,Route,Redirect,withRouter}from'react-router-dom';import{connect}from'react-redux';import{postComment as _postComment,fetchDishes as _fetchDishes,fetchComments as _fetchComments,fetchPromos as _fetchPromos,fetchLeaders as _fetchLeaders,postFeedback as _postFeedback}from'../redux/ActionCreators';import{actions}from'react-redux-form';import{TransitionGroup,CSSTransition}from'react-transition-group';var mapStateToProps=function mapStateToProps(state){return{dishes:state.dishes,comments:state.comments,promotions:state.promotions,leaders:state.leaders};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{postComment:function postComment(dishId,rating,author,comment){return dispatch(_postComment(dishId,rating,author,comment));},fetchDishes:function fetchDishes(){dispatch(_fetchDishes());},resetFeedbackForm:function resetFeedbackForm(){dispatch(actions.reset('feedback'));},fetchPromos:function fetchPromos(){dispatch(_fetchPromos());},fetchComments:function fetchComments(){dispatch(_fetchComments());},fetchLeaders:function fetchLeaders(){dispatch(_fetchLeaders());},postFeedback:function postFeedback(feedback){return dispatch(_postFeedback(feedback));}};};var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(){_classCallCheck(this,Main);return _super.apply(this,arguments);}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchDishes();this.props.fetchComments();this.props.fetchPromos();this.props.fetchLeaders();}},{key:\"render\",value:function render(){var _this=this;var HomePage=function HomePage(){return/*#__PURE__*/React.createElement(Home,{dish:_this.props.dishes.dishes.filter(function(dish){return dish.featured;})[0],dishesLoading:_this.props.dishes.isLoading,dishesErrMess:_this.props.dishes.errMess,promotion:_this.props.promotions.promotions.filter(function(promo){return promo.featured;})[0],promosLoading:_this.props.promotions.isLoading,promosErrMess:_this.props.promotions.errMess,leader:_this.props.leaders.leaders.filter(function(leader){return leader.featured;})[0],leadersLoading:_this.props.leaders.isLoading,leadersErrMess:_this.props.leaders.errMess});};var DishWithId=function DishWithId(_ref){var match=_ref.match;return/*#__PURE__*/React.createElement(DishDetail,{dish:_this.props.dishes.dishes.filter(function(dish){return dish.id===parseInt(match.params.dishId,10);})[0],isLoading:_this.props.dishes.isLoading,errMess:_this.props.dishes.errMess,comments:_this.props.comments.comments.filter(function(comment){return comment.dishId===parseInt(match.params.dishId,10);}),commentsErrMess:_this.props.comments.errMess,postComment:_this.props.postComment});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(TransitionGroup,null,/*#__PURE__*/React.createElement(CSSTransition,{key:this.props.location.key,classNames:\"page\",timeout:300},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/home\",component:HomePage}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/menu\",component:function component(){return/*#__PURE__*/React.createElement(Menu,{dishes:_this.props.dishes});}}),/*#__PURE__*/React.createElement(Route,{path:\"/menu/:dishId\",component:DishWithId}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/contactus\",component:function component(){return/*#__PURE__*/React.createElement(Contact,{resetFeedbackForm:_this.props.resetFeedbackForm,postFeedback:_this.props.postFeedback});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/aboutus\",component:function component(){return/*#__PURE__*/React.createElement(About,{leaders:_this.props.leaders});}}),/*#__PURE__*/React.createElement(Redirect,{to:\"/home\"})))),/*#__PURE__*/React.createElement(Footer,null));}}]);return Main;}(Component);export default withRouter(connect(mapStateToProps,mapDispatchToProps)(Main));","map":{"version":3,"sources":["D:/WebDev-coursera/open/React/confusion/src/components/MainComponent.js"],"names":["React","Component","Menu","DishDetail","Header","Footer","Home","Contact","About","Switch","Route","Redirect","withRouter","connect","postComment","fetchDishes","fetchComments","fetchPromos","fetchLeaders","postFeedback","actions","TransitionGroup","CSSTransition","mapStateToProps","state","dishes","comments","promotions","leaders","mapDispatchToProps","dispatch","dishId","rating","author","comment","resetFeedbackForm","reset","feedback","Main","props","HomePage","filter","dish","featured","isLoading","errMess","promo","leader","DishWithId","match","id","parseInt","params","location","key"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Menu from './MenuComponent';\r\nimport DishDetail from './DishDetailsComponent';\r\nimport Header from './HeaderComponent';\r\nimport Footer from './FooterComponent';\r\nimport Home from './HomeComponent';\r\nimport Contact from './ContactComponent';\r\nimport About from './AboutComponent';\r\n\r\nimport { Switch, Route, Redirect, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { postComment, fetchDishes, fetchComments, fetchPromos, fetchLeaders, postFeedback } from '../redux/ActionCreators';\r\nimport { actions } from 'react-redux-form';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        dishes: state.dishes,\r\n        comments: state.comments,\r\n        promotions: state.promotions,\r\n        leaders: state.leaders\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    postComment: (dishId, rating, author, comment) => dispatch(postComment(dishId, rating, author, comment)),\r\n    fetchDishes: () => { dispatch(fetchDishes()) },\r\n    resetFeedbackForm: () => { dispatch(actions.reset('feedback'))},\r\n    fetchPromos: () => { dispatch(fetchPromos()) },\r\n    fetchComments: () => { dispatch(fetchComments()) },\r\n    fetchLeaders: () => { dispatch(fetchLeaders()) },\r\n    postFeedback: (feedback) => dispatch(postFeedback(feedback))\r\n});\r\n\r\nclass Main extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.fetchDishes();\r\n        this.props.fetchComments();\r\n        this.props.fetchPromos();\r\n        this.props.fetchLeaders();\r\n    }\r\n\r\n    render() {\r\n        const HomePage = () => {\r\n            return (\r\n                <Home dish={this.props.dishes.dishes.filter(dish => dish.featured)[0]}\r\n                    dishesLoading={this.props.dishes.isLoading}\r\n                    dishesErrMess={this.props.dishes.errMess}\r\n                    promotion={this.props.promotions.promotions.filter(promo => promo.featured)[0]}\r\n                    promosLoading={this.props.promotions.isLoading}\r\n                    promosErrMess={this.props.promotions.errMess}\r\n                    leader={this.props.leaders.leaders.filter(leader => leader.featured)[0]}\r\n                    leadersLoading={this.props.leaders.isLoading}\r\n                    leadersErrMess={this.props.leaders.errMess}\r\n                />\r\n            );\r\n        }\r\n\r\n        const DishWithId = ({ match }) => {\r\n            return (\r\n                <DishDetail\r\n                    dish={this.props.dishes.dishes.filter(dish => dish.id === parseInt(match.params.dishId, 10))[0]}\r\n                    isLoading={this.props.dishes.isLoading}\r\n                    errMess={this.props.dishes.errMess}\r\n                    comments={this.props.comments.comments.filter(comment => comment.dishId === parseInt(match.params.dishId, 10))}\r\n                    commentsErrMess={this.props.comments.errMess}\r\n                    postComment={this.props.postComment}\r\n                />\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <TransitionGroup>\r\n                    <CSSTransition key={this.props.location.key} classNames=\"page\" timeout={300}>\r\n                        <Switch>\r\n                            <Route path=\"/home\" component={HomePage} />\r\n                            <Route exact path=\"/menu\" component={() => <Menu dishes={this.props.dishes} />} />\r\n                            <Route path=\"/menu/:dishId\" component={DishWithId} />\r\n                            <Route exact path=\"/contactus\" component={() => <Contact resetFeedbackForm={this.props.resetFeedbackForm} postFeedback={this.props.postFeedback} />} />\r\n                            <Route exact path=\"/aboutus\" component={() => <About leaders={this.props.leaders} />} />\r\n                            <Redirect to=\"/home\" />\r\n                        </Switch>\r\n                    </CSSTransition>\r\n                </TransitionGroup>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Main));"]},"metadata":{},"sourceType":"module"}